!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired76b;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired76b=a);var s=a("bpxeT"),l=a("2TvXO"),c=a("b7ONl"),i=a("9VC5X");a("jdWKG"),(d=a("4Nugj")).refs.watchedBtn.addEventListener("click",(function(){if(d.refs.watchedBtn.classList.contains("current"))return;d.refs.gallery.innerHTML="",d.refs.queueBtn.classList.toggle("current"),d.refs.watchedBtn.classList.toggle("current"),h(),location.replace(location.href)})),d.refs.queueBtn.addEventListener("click",(function(){if(d.refs.queueBtn.classList.contains("current"))return;d.refs.gallery.innerHTML="",d.refs.queueBtn.classList.toggle("current"),d.refs.watchedBtn.classList.toggle("current"),m()})),d.refs.btnClearAll.addEventListener("click",(function(){if(d.refs.watchedBtn.classList.contains("current"))return localStorage.setItem("watched",JSON.stringify([])),d.refs.gallery.innerHTML="",void("dark-theme"===localStorage.getItem("theme")?d.refs.darkWrapper.style.display="flex":d.refs.wraperMyLib.style.display="flex");localStorage.setItem("queue",JSON.stringify([])),d.refs.gallery.innerHTML="","dark-theme"===localStorage.getItem("theme")?d.refs.darkWrapper.style.display="flex":d.refs.wraperMyLib.style.display="flex"})),a("1Gwk9"),a("cDXQO");var o=a("kvC6y");a("ghnK3");var d=a("4Nugj"),p=JSON.parse(localStorage.getItem("watched"))||[],f=JSON.parse(localStorage.getItem("queue"))||[];function u(e){var t=JSON.parse(localStorage.getItem("".concat(e)))||[];!localStorage.getItem("".concat(e))||t.length<1?"dark-theme"===localStorage.getItem("theme")?(d.refs.darkWrapper.style.display="flex",d.refs.wraperMyLib.style.display="none"):(d.refs.darkWrapper.style.display="none",d.refs.wraperMyLib.style.display="flex"):"dark-theme"===localStorage.getItem("theme")?d.refs.darkWrapper.style.display="none":d.refs.wraperMyLib.style.display="none"}function h(){return g.apply(this,arguments)}function g(){return(g=e(s)(e(l).mark((function t(){var r,n,a,s,i,f,h,g,m,y,v;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.showPreloader)(),d.refs.gallery.innerHTML="",u("watched"),r="",n=!0,a=!1,s=void 0,e.prev=5,i=p[Symbol.iterator]();case 7:if(n=(f=i.next()).done){e.next=21;break}return h=f.value,e.next=11,(0,c.getWatchedFilms)(h);case 11:g=e.sent,m=Number.parseInt(g.release_date||g.first_air_date),y="https://image.tmdb.org/t/p/w300".concat(g.poster_path),"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg",v=[],g.genres.forEach((function(e){v.push(e.name)})),r+=' <li class ="film-item">\n                <a id=\''.concat(g.id,"' class=\"film-card\" href=\"#\">\n                  <div class='thumb'>\n                  <img\n                      class = 'poster'\n                      src= \"").concat(g.poster_path?y:"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg",'"\n                      alt="').concat(g.title,'"\n                      loading="lazy"\n                    /></div>\n                    <div class=\'film-data\'>\n                      <h2 class="title-film">').concat(g.title,"</h2>\n                      <p class=\"text\">\n                        <span class='info-film'>").concat(v.join(", ")," | ").concat(m,'</span>\n                        <span class ="rating">IMDB:<br>').concat(g.vote_average.toFixed(1),"</span>\n                      </p>\n                    </div>\n                  </a>\n              </li>");case 18:n=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),a=!0,s=e.t0;case 27:e.prev=27,e.prev=28,n||null==i.return||i.return();case 30:if(e.prev=30,!a){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(27);case 35:d.refs.gallery.insertAdjacentHTML("beforeend",r),(0,o.hidePreloader)();case 37:case"end":return e.stop()}}),t,null,[[5,23,27,35],[28,,30,34]])})))).apply(this,arguments)}function m(){return y.apply(this,arguments)}function y(){return(y=e(s)(e(l).mark((function t(){var r,n,a,s,i,p,h,g,m,y,v;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.showPreloader)(),d.refs.gallery.innerHTML="",u("queue"),r="",n=!0,a=!1,s=void 0,e.prev=5,i=f[Symbol.iterator]();case 7:if(n=(p=i.next()).done){e.next=21;break}return h=p.value,e.next=11,(0,c.getWatchedFilms)(h);case 11:g=e.sent,m=Number.parseInt(g.release_date||g.first_air_date),y="https://image.tmdb.org/t/p/w300".concat(g.poster_path),"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg",v=[],g.genres.forEach((function(e){v.push(e.name)})),r+=' <li class ="film-item">\n              <a id=\''.concat(g.id,"' class=\"film-card\" href=\"#\">\n                <div class='thumb'>\n                <img\n                    class = 'poster'\n                    src= \"").concat(g.poster_path?y:"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg",'"\n                    alt="').concat(g.title,'"\n                    loading="lazy"\n                  /></div>\n                  <div class=\'film-data\'>\n                    <h2 class="title-film">').concat(g.title,"</h2>\n                    <p class=\"text\">\n                      <span class='info-film'>").concat(v.join(", ")," | ").concat(m,'</span>\n                      <span class ="rating">IMDB:<br>').concat(g.vote_average.toFixed(1),"</span>\n                    </p>\n                  </div>\n                </a>\n            </li>");case 18:n=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),a=!0,s=e.t0;case 27:e.prev=27,e.prev=28,n||null==i.return||i.return();case 30:if(e.prev=30,!a){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(27);case 35:d.refs.gallery.insertAdjacentHTML("beforeend",r),(0,o.hidePreloader)();case 37:case"end":return e.stop()}}),t,null,[[5,23,27,35],[28,,30,34]])})))).apply(this,arguments)}(0,o.hidePreloader)(),h();window.addEventListener("scroll",(function(){window.scrollY>100?d.refs.button.style.display="block":d.refs.button.style.display="none"})),d.refs.button.addEventListener("click",(function(){window.scroll({top:0,left:0,behavior:"smooth"})})),(0,i.addDarkClassToHTML)()}();
//# sourceMappingURL=my-library.a944d1b6.js.map
